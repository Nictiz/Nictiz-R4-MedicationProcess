<SearchParameter xmlns="http://hl7.org/fhir">
    <id value="is-latest-stop"/>
    <url value="http://nictiz.nl/fhir/SearchParameter/is-latest-stop"/>
    <version value="2.0.0-rc.6"/>
    <name value="IsLatestStop"/>
    <status value="active"/>
    <publisher value="Nictiz"/>
    <contact>
        <name value="Nictiz"/>
        <telecom>
            <system value="url"/>
            <value value="https://www.nictiz.nl"/>
            <use value="work"/>
        </telecom>
    </contact>
    <description value="Boolean-style search parameter indicating whether the server SHALL apply the 'latest stop per MBH' logic when composing the search results.

When set to true, and when searching on a specific kind of building block (e.g. MedicationAgreement/MA, AdministrationAgreement/TA or VariableDosingRegimen/WDS), the server SHALL include the latest stopped building blocks of that kind within each pharmaceutical treatment (MBH). Even if their PeriodOfUse lies outside the PeriodOfUse that is being searched on.

When false or absent, no latest-stop logic is applied and results are based solely on the normal search criteria."/>
    <purpose value="To allow clients to explicitly request that the server applies the 'latest stop per MBH' rule, as defined in the mp-latest-stop operation, when returning MedicationProcess search results."/>
    <code value="is-latest-stop"/>
    <base value="MedicationRequest"/>
    <base value="MedicationDispense"/>
    <base value="MedicationStatement"/>    
    <type value="special"/>
</SearchParameter>
